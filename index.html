<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>North Western Christian Training Institute Graduates List</title>
    
    <style>
        /* --- Base & Layout --- */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 20px;
            /* VIBRANT BACKGROUND: Brighter, deeper gradient */
            background: linear-gradient(135deg, #f0e6ff 0%, #b3e5fc 100%); /* Lavender to Light Blue */
            color: #333;
            min-height: 100vh;
        }
        .container { 
            max-width: 1400px; 
            margin: 20px auto; 
            padding: 30px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25); 
        }

        /* --- Header & Title --- */
        .main-header {
            /* Amplified gradient for the header container */
            background: linear-gradient(90deg, #673ab7, #9575cd); /* Deep Purple to Medium Purple */
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 40px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 10px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #ede7f6; /* Very Light Purple border */
        }

        h1 { 
            color: #ffffff; /* White text for contrast on purple background */
            margin: 0;
            padding-bottom: 0;
            font-size: 2.5em;
            font-weight: 700;
        }
        
        /* --- Filter Controls --- */
        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }
        .search-input, .filter-dropdown {
            padding: 12px 20px;
            border: 2px solid #5e35b1; /* Vibrant Deep Purple border */
            border-radius: 30px;
            font-size: 1.1em;
            outline: none;
            flex: 1 1 300px; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .search-input:focus, .filter-dropdown:focus {
            border-color: #311b92; /* Focus on Darker Purple */
            box-shadow: 0 0 10px rgba(49, 27, 146, 0.3);
        }

        /* --- Course Section --- */
        .course-section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 10px;
            background-color: #fafafa; /* Very light background for contrast */
            border-left: 6px solid #4a148c; /* Darker Purple accent bar */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .course-section h2 { 
            color: #4527a0; /* Medium Deep Purple */
            margin-top: 0; 
            padding-bottom: 10px;
            border-bottom: 2px solid #e0f7fa;
            font-size: 1.8em;
            font-weight: 600;
        }
        .level-count {
            font-size: 0.9em;
            font-weight: 500;
            color: #555;
            background-color: #e8eaf6; /* Light Blue-Grey */
            padding: 4px 10px;
            border-radius: 15px;
            margin-left: 10px;
        }

        /* --- Table Styling --- */
        .graduates-table { 
            width: 100%; 
            border-collapse: separate; 
            border-spacing: 0;
            margin-top: 20px; 
            overflow: hidden; 
            border-radius: 8px;
        }
        .graduates-table th, .graduates-table td { 
            padding: 15px; 
            text-align: left; 
            border-bottom: 1px solid #e0e0e0;
        }
        .graduates-table th { 
            background-color: #4527a0; /* Deep Purple Header */
            color: white;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 1px;
        }
        .graduates-table tbody tr:nth-child(even) {
            background-color: #f7f7f7;
        }
        .graduates-table tbody tr:hover {
            background-color: #d1c4e9; /* Lighter Purple on hover */
            cursor: default;
        }
        
        /* --- Level Badge Styling (Vibrant Colors) --- */
        .level-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 700;
            color: white;
            min-width: 60px;
            text-align: center;
            text-transform: uppercase;
            margin-left: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        /* DIP/DIPLOMA/CT - Orange/Amber */
        .dip-bible--theology, .diploma, .dip-counseling-psychology, .dip-public-administration--governance, .diploma-conflict-resolution--management, .dip-project-planning, .ct-bible--theology {
            background-color: #ffb300; 
        }
        
        /* BA/DEGREE - Teal/Cyan */
        .ba-counseling-psychology, .ba-public-administration--governance, .ba-social-work--criminology, .ba-degree-lam, .ba-degree-education-arts, .ba-special-needs, .ba-arts-in-kiswahili---cre, .ba-business-administration-and-management, .ba-early-childhood-education--ecde---primary, .degree-project-planning, .ba-criminal-justice, .ba-education-arts-history--kiswahili {
            background-color: #00bcd4; 
        }

        /* MA/MASTERS/LEADERSHIP - Deep Purple/Indigo */
        .ma-counseling-psychology, .ma-public-administration--governance, .ma-public-administration--political-science, .ma-in-education-planning-administration--management, .ma-degree-lam, .leadership--public-governance {
            background-color: #512da8; 
        }
        
        .no-results {
            text-align: center;
            color: #d32f2f;
            background-color: #ffebee;
            padding: 20px;
            border-radius: 8px;
            font-size: 1.4em;
            margin-top: 40px;
            border: 1px solid #ef9a9a;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="main-header">
            <img src="IMG-20251203-WA0032.jpg" 
                 alt="North Western Christian Training Institute Logo" 
                 class="logo"
                 onerror="this.onerror=null; this.src='https://placehold.co/80x80/9e9e9e/ffffff?text=Logo';"
            >
            <h1>North Western Christian Training Institute - Graduation List</h1>
        </header>

        <div class="filter-controls">
            <input type="text" id="searchInput" placeholder="Search by Name or Course..." class="search-input">
            <select id="courseFilter" class="filter-dropdown">
                <option value="">— Filter by Course —</option>
            </select>
        </div>
        <div id="graduationList">
            </div>
    </div>

    <script>
        // --- COMPLETE GRADUATE DATA LIST (127 ENTRIES) ---
        const graduationList = [
            { no: 1, name: 'KOCHARA PETER LOTIANG', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 2, name: 'BOAZ ASICHE MURKWE', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 3, name: 'SUSILA NAKHWILA SIMIYU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 4, name: 'MARTIN NCHIRING NGLOA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 5, name: 'PIUS KIPCHUMBA KIPTOO', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 6, name: 'JAMES LORGEN', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 7, name: 'NANCY MACHAGARIA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 8, name: 'PETER EKWAI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 9, name: 'VIOLET KAVAI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 10, name: 'JOYCE KEBOI WANJIRU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 11, name: 'PHILIP KIRO', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 12, name: 'GRAPHAINE NABWIRE OMULA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 13, name: 'MILKAH MAGIRI MAINA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 14, name: 'MARYANN WANJIRU NJENGA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 15, name: 'JUDITH WANJIKERA KIARIE', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 16, name: 'GRACE MWIMA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 17, name: 'STEPHEN OUMA OPIYO', course: 'CT-BIBLE & THEOLOGY' },
            { no: 18, name: 'PETER MWANGI WAINANINA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 19, name: 'JANET MWIKALI RIVONIO', course: 'CT-BIBLE & THEOLOGY' },
            { no: 20, name: 'HOWARD BOY CHIDED', course: 'CT-BIBLE & THEOLOGY' },
            { no: 21, name: 'DAVID NJUGUNA KIARIE', course: 'CT-BIBLE & THEOLOGY' },
            { no: 22, name: 'AGNES WANGUI NYIIHA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 23, name: 'ROSALINE WANGARI KAMAU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 24, name: 'DOROTHY GITAU MUGA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 25, name: 'KENNEDY ADUBWA UHANDA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 26, name: 'ABEL ONYANGO SANDE', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 27, name: 'PATEL WEKERE BARAZA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 28, name: 'PHILEMON KARUTHO KIPROP', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 29, name: 'FRANCIS KINAYA ORAKE', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 30, name: 'BANARD KARIUKI MUNGAI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 31, name: 'JONATHAN K. CHEBOR', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 32, name: 'NANCY NAKHUNGUI KHAKAME', course: 'DIP-COUNSELING PSYCHOLOGY' },
            { no: 33, name: 'SAMWEL CHANGWO NGIGI', course: 'MA-COUNSELING PSYCHOLOGY' },
            { no: 34, name: 'PAUL MBURU NG\'ANG\'A', course: 'MA-COUNSELING PSYCHOLOGY' },
            { no: 35, name: 'ROSE NYOTIAH WANYAMA', course: 'MA-COUNSELING PSYCHOLOGY' },
            { no: 36, name: 'MARTINA NTEMO', course: 'MA-COUNSELING PSYCHOLOGY' },
            { no: 37, name: 'DIANA KHAWA WENASWA', course: 'MA-COUNSELING PSYCHOLOGY' },
            { no: 38, name: 'NAOMI KHANJILA WANJALA', course: 'BA COUNSELING PSYCHOLOGY' },
            { no: 39, name: 'MADINA TEMKO', course: 'BA COUNSELING PSYCHOLOGY' },
            { no: 40, name: 'WYCLIFFE NGUGUI CHITECHI', course: 'BA COUNSELING PSYCHOLOGY' },
            { no: 41, name: 'JUDITH NASIMIYU SIKOLIA', course: 'BA COUNSELING PSYCHOLOGY' },
            { no: 42, name: 'MARIA TUNAI HASSAN', course: 'CT-BIBLE & THEOLOGY' },
            { no: 43, name: 'ELIAS WAFULA MUNYASI', course: 'CT-BIBLE & THEOLOGY' },
            { no: 44, name: 'STEPHEN WEKESA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 45, name: 'ELIJAH MASAI SIMIYU', course: 'CT-BIBLE & THEOLOGY' },
            { no: 46, name: 'BETTINE NEKESA OKUMU', course: 'CT-BIBLE & THEOLOGY' },
            { no: 47, name: 'WYCLIFFE IVUSA', course: 'CT-BIBLE & THEOLOGY' },
            { no: 48, name: 'GILBERT CHAVANYAYA MAGOMERE', course: 'CT-BIBLE & THEOLOGY' },
            { no: 49, name: 'MODESTER AGAN', course: 'CT-BIBLE & THEOLOGY' },
            { no: 50, name: 'GEORGE AGESA ODEMBE', course: 'CT-BIBLE & THEOLOGY' },
            { no: 51, name: 'SOFIA NAFIJLA MUSIKANA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 52, name: 'ALVIN WABWOLA MUSIEU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 53, name: 'EMMACY WANJALA ETORI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 54, name: 'COLETTA NASIMIYU WANYONYI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 55, name: 'VIOLET NAFULA WAFULA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 56, name: 'PAULINE OSITA ASITWA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 57, name: 'JANNET WANJALA SIKALIA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 58, name: 'COLLINS WAFULA WEPUKHULU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 59, name: 'JOHN NALIANYA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 60, name: 'ALICE NANJEKHO WANYONYI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 61, name: 'BRIDGED NEKESA SIMIYU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 62, name: 'IAN OMONDI KIEYO', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 63, name: 'LIBBY CHANYAI WATAKO', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 64, name: 'TITUS OMONDI OMUDDEKE', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 65, name: 'ASUMAN MPAMO', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 66, name: 'CONE ACHENG OMONDI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 67, name: 'EVALINE NALWENGE OWOLA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 68, name: 'NORAH NAMACHANYA MUYALA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 69, name: 'DANIEL OJIAMBO EGESA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 70, name: 'JOSEPHINE NANJALA SIMEMA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 71, name: 'ERIC SIMIYU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 72, name: 'PETER WANGILA MULUNDA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 73, name: 'MARY NYANDIEKA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 74, name: 'JOSEPHINE NANJALA SIMEMA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 75, name: 'HELLEN NYANJALA MUSOMI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 76, name: 'DOROTHY AUMA AMASAKA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 77, name: 'NANCY NANGWEYI KHAKAME', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 78, name: 'BRIAN WEKESA SIMIYU', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 79, name: 'SARAH NANJALA WEKESA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 80, name: 'PRISCA NDEGEYA KHAYEBA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 81, name: 'ALOY GITAU MURI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 82, name: 'NASHON MAJOR OMULI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 83, name: 'PATRICK OSINYA OUMA', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 84, name: 'DANIEL IMOLI MAGOTSWI', course: 'DIP-BIBLE & THEOLOGY' },
            { no: 85, name: 'CHRISTINE NAFUNA KASILI', course: 'BA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 86, name: 'DENNIS WAMBUCHII', course: 'BA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 87, name: 'DENNIS WEKESA SIMIYU', course: 'BA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 88, name: 'JOSEPH SIMIYU WANYAMA.', course: 'BA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 89, name: 'GILBERT MAMAI', course: 'DIP PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 90, name: 'ADELAIDE NANJALA WEKESA', course: 'LEADERSHIP & PUBLIC GOVERNANCE' },
            { no: 91, name: 'REHEMA NASIMIYU PESI', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 92, name: 'YVONNE NANJALA WASWA', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 93, name: 'JACKSON MUKHANGE CHETAMBE', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 94, name: 'ZAKARIA WANYONYICHEKECHI', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 95, name: 'PHILICE LUSIKE BARASA', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 96, name: 'GODFREY SIMIYU WANYALA', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 97, name: 'FELIX MAINA ANJELA', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 98, name: 'SABWAMI CAROLYNE NAFULA', course: 'MA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 99, name: 'CAROLYN NAMWENYA MUCHOE', course: 'BA SOCIAL WORK & CRIMINOLOGY' },
            { no: 100, name: 'MOURINE KHANJILA WAFULA', course: 'MA PUBLIC ADMINISTRATION & POLITICAL SCIENCE' },
            { no: 101, name: 'MERCY NEKESA WEPUKHULU', course: 'BA PUBLIC ADMINISTRATION & GOVERNANCE' },
            { no: 102, name: 'VALENTINE NALIAKA WOPICHO', course: 'DIPLOMA CONFLICT RESOLUTION & MANAGEMENT' },
            { no: 103, name: 'KIRUAYE VIOLET MBAYAKI', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 104, name: 'JANE NAFULA', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 105, name: 'GLADYS NAFULA WEKUNDA', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 106, name: 'SKYTRE MUKHWANA NDALILA', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 107, name: 'LEWISLENNOX MULONGO NDALILA', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 108, name: 'EVERLYNE NEKESA SIKOLIA', course: 'MA IN EDUCATION PLANNING ADMINISTRATION & MANAGEMENT' },
            { no: 109, name: 'DAMARIS APAMA EKIRAPA', course: 'BA CRIMINAL JUSTICE' },
            { no: 110, name: 'ALEX NANJALA NAKOKONYA', course: 'DIP-PROJECT PLANNING' },
            { no: 111, name: 'FEDLES SITUMA JUMA', course: 'DEGREE-PROJECT PLANNING' },
            { no: 112, name: 'DOUGLAS WAFULA KUCHU', course: 'BA DEGREE-LAM' },
            { no: 113, name: 'JOSEPHINE CHILABAGA KIAGE', course: 'BA DEGREE-LAM' },
            { no: 114, name: 'SUSY NADI WAFULA', course: 'BA DEGREE-LAM' },
            { no: 115, name: 'HILDABEDA KHAYELE LUKULU', course: 'BA DEGREE-LAM' },
            { no: 116, name: 'WILSON IBWAGA AVUNG\'ANA', course: 'BA DEGREE-LAM' },
            { no: 117, name: 'TERESIA WANJIRU NJIHIA', course: 'BA DEGREE-LAM' },
            { no: 118, name: 'JOSEPH MASINDE', course: 'BA DEGREE-LAM' },
            { no: 119, name: 'EVANS ASACHA ASIRI', course: 'MA DEGREE-LAM' },
            { no: 120, name: 'ZUHRIA BABAZENI WEKATI', course: 'BA DEGREE EDUCATION ARTS' },
            { no: 121, name: 'CHARLES MASIDEY BARASA', course: 'BA SPECIAL NEEDS' },
            { no: 122, name: 'WANJALA MOSES', course: 'BA ARTS IN KISWAHILI / CRE' },
            { no: 123, name: 'DORINE NASAMBU LUSAKA', course: 'BA BUSINESS ADMINISTRATION AND MANAGEMENT' },
            { no: 124, name: 'RICKAEL GEMO SIMIYU', course: 'BA BUSINESS ADMINISTRATION AND MANAGEMENT' },
            { no: 125, name: 'ANITA YERU CHEBETO', course: 'BA EARLY CHILDHOOD EDUCATION (ECDE) & PRIMARY' },
            { no: 126, name: 'HARRY M. SAENYI', course: 'BA EDUCATION ARTS HISTORY & KISWAHILI' },
            { no: 127, name: 'COLLINS B. ODHI' , course: 'BA EDUCATION ARTS HISTORY & KISWAHILI' }
        ];

        // --- JAVASCRIPT LOGIC ---
        const listContainer = document.getElementById('graduationList');
        const searchInput = document.getElementById('searchInput');
        const courseFilter = document.getElementById('courseFilter');

        // Sort the data alphabetically by name immediately
        graduationList.sort((a, b) => a.name.localeCompare(b.name));

        // Function to transform course string into a clean CSS class
        function getLevelCssClass(course) {
            // Replaces spaces, slashes, ampersands, and parentheses with hyphens, then cleans up duplicates/leading/trailing hyphens.
            return course.toLowerCase().replace(/[^a-z0-9]/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
        }

        // Function to populate the course dropdown options
        function populateCourseFilter() {
            const courses = [...new Set(graduationList.map(g => g.course))].sort();
            courses.forEach(course => {
                const option = document.createElement('option');
                option.value = course;
                option.textContent = course;
                courseFilter.appendChild(option);
            });
        }

        // Function to group and render the list
        function renderList(data) {
            const groupedData = data.reduce((acc, grad) => {
                const key = grad.course;
                if (!acc[key]) { acc[key] = []; }
                acc[key].push(grad);
                return acc;
            }, {});

            let html = '';
            
            if (data.length === 0 && (searchInput.value || courseFilter.value)) {
                html += `<p class="no-results">No graduates found matching your criteria. Please adjust your search or filter.</p>`;
            } else {
                Object.keys(groupedData).forEach(course => {
                    // Attempt to extract level (DIP, CT, BA, MA, etc.) from the course string
                    const parts = course.split('-');
                    let levelAcronym = parts.length > 1 ? parts[0] : course.split(' ')[0];
                    let courseName = course.replace(levelAcronym, '').replace(/^-/, '').trim();
                    if (!courseName) courseName = course;
                    
                    // Simple logic to standardize level acronyms for display
                    if (levelAcronym.length > 4) {
                        if (levelAcronym.startsWith('DIP')) {
                            levelAcronym = 'DIP';
                            courseName = course.replace('DIP-', '').trim();
                        } else if (levelAcronym.startsWith('BA')) {
                            levelAcronym = 'BA';
                            courseName = course.replace('BA', '').trim();
                        } else if (levelAcronym.startsWith('MA')) {
                            levelAcronym = 'MA';
                            courseName = course.replace('MA', '').trim();
                        } else if (levelAcronym.startsWith('CT')) {
                            levelAcronym = 'CT';
                            courseName = course.replace('CT-', '').trim();
                        } else if (levelAcronym.startsWith('DEGREE')) {
                            levelAcronym = 'DEGREE';
                            courseName = course.replace('DEGREE-', '').trim();
                        }
                    }


                    html += `<div class="course-section">
                        <h2>
                            ${courseName} 
                            <span class="level-count">${levelAcronym} | ${groupedData[course].length} Graduates</span>
                        </h2>
                        <table class="graduates-table">
                            <thead><tr><th>No.</th><th>Name</th></tr></thead>
                            <tbody>`;
                    
                    groupedData[course].forEach((grad, index) => {
                        const cssClass = getLevelCssClass(grad.course);
                        html += `<tr>
                            <td>${index + 1}</td>
                            <td>
                                <strong>${grad.name}</strong> 
                                <span class="level-badge ${cssClass}">${levelAcronym}</span>
                            </td>
                        </tr>`;
                    });

                    html += `</tbody></table></div>`;
                });
            }

            listContainer.innerHTML = html;
        }
        
        // Main filter function triggered by input/dropdown change
        function filterAndRender() {
            const searchQuery = searchInput.value.toLowerCase();
            const courseValue = courseFilter.value;

            const filteredData = graduationList.filter(grad => {
                const matchesSearch = grad.name.toLowerCase().includes(searchQuery) ||
                                      grad.course.toLowerCase().includes(searchQuery);
                
                const matchesCourse = courseValue === "" || grad.course === courseValue;
                
                return matchesSearch && matchesCourse;
            });

            renderList(filteredData);
        }

        // Attach event listeners
        searchInput.addEventListener('input', filterAndRender);
        courseFilter.addEventListener('change', filterAndRender);

        // Initial setup and render
        populateCourseFilter();
        filterAndRender(); 

    </script>
</body>
</html>